<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>My Fishing Log</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    /* Basic reset */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background: #0b1724;
      color: #f5f5f5;
      min-height: 100vh;
      display: flex;
      justify-content: center;
    }

    .app {
      width: 100%;
      max-width: 480px; /* looks good on mobile and desktop */
      padding: 16px;
    }

    header {
      margin-bottom: 16px;
    }

    header h1 {
      font-size: 1.6rem;
      margin-bottom: 4px;
    }

    header p {
      font-size: 0.9rem;
      opacity: 0.8;
    }

    .card {
      background: #111d2b;
      border-radius: 12px;
      padding: 12px 14px;
      margin-bottom: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.35);
    }

    .card + .card {
      margin-top: 8px;
    }

    label {
      font-size: 0.9rem;
      display: block;
      margin-bottom: 4px;
    }

    input, textarea, select {
      width: 100%;
      padding: 8px 10px;
      margin-bottom: 10px;
      border-radius: 8px;
      border: 1px solid #2a3c52;
      background: #081119;
      color: #f5f5f5;
      font-size: 0.95rem;
    }

    textarea {
      resize: vertical;
      min-height: 60px;
    }

    button {
      width: 100%;
      padding: 10px;
      border-radius: 999px;
      border: none;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      background: #1f8bfd;
      color: white;
      box-shadow: 0 4px 10px rgba(31,139,253,0.4);
    }

    button:active {
      transform: translateY(1px);
      box-shadow: 0 2px 6px rgba(31,139,253,0.4);
    }

    .catch-list {
      margin-top: 16px;
    }

    .catch-item {
      display: flex;
      flex-direction: column;
      gap: 2px;
      font-size: 0.95rem;
    }

    .catch-top {
      display: flex;
      justify-content: space-between;
      font-weight: 600;
    }

    .catch-meta {
      font-size: 0.8rem;
      opacity: 0.8;
    }

    .empty-state {
      font-size: 0.9rem;
      opacity: 0.8;
      text-align: center;
      padding: 16px 0;
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <h1>My Fishing Log</h1>
      <p>Track your catches anywhere – works on mobile too.</p>
    </header>

    <!-- Add Catch Form -->
    <div class="card">
      <h2 style="font-size: 1.1rem; margin-bottom: 8px;">Add a catch</h2>

      <label for="species">Species</label>
      <input id="species" type="text" placeholder="Pike, Perch, Carp..." />

      <label for="weight">Weight (kg)</label>
      <input id="weight" type="number" step="0.01" placeholder="e.g. 2.4" />

      <label for="spot">Spot name</label>
      <input id="spot" type="text" placeholder="Lake X, River Y..." />

      <label for="notes">Notes (optional)</label>
      <textarea id="notes" placeholder="Weather, lure, depth, etc."></textarea>

      <button id="addCatchBtn">Save catch</button>
    </div>

    <!-- List of catches -->
    <div class="card">
      <h2 style="font-size: 1.1rem; margin-bottom: 8px;">Your catches</h2>
      <div id="catchList" class="catch-list">
        <p class="empty-state">No catches yet. Add your first one!</p>
      </div>
    </div>
  </div>

  <script>
    // --- Data handling ---

    // Load from localStorage
    function loadCatches() {
      const json = localStorage.getItem("fishing_catches");
      if (!json) return [];
      try {
        return JSON.parse(json);
      } catch (e) {
        console.error("Error parsing stored catches", e);
        return [];
      }
    }

    // Save to localStorage
    function saveCatches(catches) {
      localStorage.setItem("fishing_catches", JSON.stringify(catches));
    }

    let catches = loadCatches();

    // --- Rendering ---

    function renderCatches() {
      const listEl = document.getElementById("catchList");
      listEl.innerHTML = "";

      if (catches.length === 0) {
        const p = document.createElement("p");
        p.className = "empty-state";
        p.textContent = "No catches yet. Add your first one!";
        listEl.appendChild(p);
        return;
      }

      catches
        .slice()
        .reverse() // newest first
        .forEach(c => {
          const wrapper = document.createElement("div");
          wrapper.className = "catch-item";

          const top = document.createElement("div");
          top.className = "catch-top";
          top.innerHTML = `
            <span>${c.species} • ${c.weightKg.toFixed(2)} kg</span>
            <span>${new Date(c.timestamp).toLocaleDateString()}</span>
          `;

          const meta = document.createElement("div");
          meta.className = "catch-meta";
          meta.textContent = c.spotName || "Unknown spot";

          const note = document.createElement("div");
          note.className = "catch-meta";
          note.textContent = c.notes || "";

          wrapper.appendChild(top);
          wrapper.appendChild(meta);
          if (c.notes) wrapper.appendChild(note);

          const separator = document.createElement("div");
          separator.style.height = "8px";

          listEl.appendChild(wrapper);
          listEl.appendChild(separator);
        });
    }

    // --- Form logic ---

    document.getElementById("addCatchBtn").addEventListener("click", () => {
      const speciesInput = document.getElementById("species");
      const weightInput = document.getElementById("weight");
      const spotInput = document.getElementById("spot");
      const notesInput = document.getElementById("notes");

      const species = speciesInput.value.trim();
      const weight = parseFloat(weightInput.value);
      const spot = spotInput.value.trim();
      const notes = notesInput.value.trim();

      if (!species || isNaN(weight)) {
        alert("Please enter at least species and weight.");
        return;
      }

      const newCatch = {
        id: Date.now(),
        species,
        weightKg: weight,
        spotName: spot,
        notes,
        timestamp: Date.now()
      };

      catches.push(newCatch);
      saveCatches(catches);
      renderCatches();

      // Clear form
      speciesInput.value = "";
      weightInput.value = "";
      spotInput.value = "";
      notesInput.value = "";
    });

    // Initial render
    renderCatches();
  </script>
</body>
</html>
